[gd_scene format=3 uid="uid://cggbbsin6rhtd"]

[ext_resource type="PackedScene" uid="uid://bymmgsfdad74s" path="res://ik_legs_turn_test/player_oc.glb" id="1_jo1ox"]
[ext_resource type="Script" uid="uid://chmrc18r7j3r7" path="res://ik_legs_turn_test/player_oc_ik.gd" id="2_4xm8w"]
[ext_resource type="AnimationLibrary" uid="uid://burebsqme3lql" path="res://ik_legs_turn_test/template_psx_charter.glb" id="2_l2iuq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4xm8w"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0, 0, 0, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_mtm2d"]
sky_material = SubResource("ProceduralSkyMaterial_4xm8w")

[sub_resource type="Environment" id="Environment_31i24"]
background_mode = 1
background_color = Color(0.3779188, 0.37791887, 0.37791884, 1)
sky = SubResource("Sky_mtm2d")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
tonemap_mode = 2

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_l2iuq"]
load_path = "res://.godot/imported/player_oc_player_oc.png-ce2ef02b69a63c9a9cff21bd9ece07da.s3tc.ctex"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4xm8w"]
resource_name = "player_oc"
cull_mode = 2
albedo_texture = SubResource("CompressedTexture2D_l2iuq")
texture_filter = 0

[node name="player_oc" unique_id=1840730469 node_paths=PackedStringArray("rotation_tester") instance=ExtResource("1_jo1ox")]
script = ExtResource("2_4xm8w")
rotation_tester = NodePath("@Node3D@18940")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="0" unique_id=1924153857]
environment = SubResource("Environment_31i24")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1" unique_id=606654656]
libraries/template_psx_charter = ExtResource("2_l2iuq")

[node name="target" type="Marker3D" parent="." index="2" unique_id=362753686]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.52985764, 1.6095647, 3.2363112)

[node name="leg_target" type="Marker3D" parent="." index="3" unique_id=2000063875]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.55026126, 1.6095647, 3.2363112)

[node name="GeneralSkeleton" parent="metarig" parent_id_path=PackedInt32Array(604162196) index="0" unique_id=1094533455]
bones/1/position = Vector3(-2.4868996e-14, 1.0088606, -0.055199984)
bones/1/rotation = Quaternion(0.0034824193, 0, 0, 0.99999404)
bones/5/rotation = Quaternion(-1.6763806e-08, 0, 0, 1)
bones/6/rotation = Quaternion(-1.4901163e-08, 0, 0, 1)
bones/7/rotation = Quaternion(-2.2351726e-08, -2.2133645e-21, 3.0212065e-22, 1)
bones/11/rotation = Quaternion(0.07932649, 0.7411568, -0.66512984, 0.044680342)
bones/12/rotation = Quaternion(-0.07598446, -0.70259947, -0.04869833, 0.70583916)
bones/13/rotation = Quaternion(2.3283062e-10, 0.7071068, 2.3283062e-10, 0.7071068)
bones/15/rotation = Quaternion(-0.07932675, 0.74115664, -0.66512996, -0.044680506)
bones/16/rotation = Quaternion(-0.07598449, 0.70259947, 0.048698362, 0.70583916)
bones/17/rotation = Quaternion(-7.217751e-09, -0.7071068, 7.217751e-09, 0.7071068)
bones/22/rotation = Quaternion(2.4335332e-08, 0.009894924, 0.9999511, -3.0787966e-09)
bones/23/rotation = Quaternion(5.545687e-16, 0.99989516, -0.014481387, -1.0974448e-15)
bones/24/rotation = Quaternion(-7.322893e-16, 0.7071068, -0.7071068, -2.829313e-16)
bones/27/rotation = Quaternion(1.951672e-08, 0.009894924, 0.9999511, 2.761944e-09)
bones/28/rotation = Quaternion(2.3124296e-16, 0.99989516, -0.014481387, -8.616723e-16)
bones/29/rotation = Quaternion(-1.5228284e-15, 0.7071068, -0.7071068, -8.071853e-16)

[node name="LookAtModifier3DLeg" type="LookAtModifier3D" parent="metarig/GeneralSkeleton" index="0" unique_id=1471810853]
transform = Transform3D(-0.7071068, 0, 0.7071067, 0, 1, 0, -0.7071067, 0, -0.7071068, 0, 0, 0)
target_node = NodePath("../../../leg_target")
bone_name = "Root"
bone = 0
use_secondary_rotation = false

[node name="LookAtModifier3DTorso" type="LookAtModifier3D" parent="metarig/GeneralSkeleton" index="1" unique_id=1486929238]
transform = Transform3D(-0.7071068, 0, 0.7071067, 0, 1, 0, -0.7071067, 0, -0.7071068, 0, 0, 0)
influence = 0.5
target_node = NodePath("../../../target")
bone_name = "UpperChest"
bone = 4
use_secondary_rotation = false

[node name="LookAtModifier3DHead" type="LookAtModifier3D" parent="metarig/GeneralSkeleton" index="2" unique_id=785166586]
transform = Transform3D(-0.7071068, 0, 0.7071067, 0, 1, 0, -0.7071067, 0, -0.7071068, 0, 0, 0)
influence = 0.5
target_node = NodePath("../../../target")
bone_name = "Head"
bone = 6

[node name="SpringBoneSimulator3D" type="SpringBoneSimulator3D" parent="metarig/GeneralSkeleton" index="3" unique_id=255656837]
setting_count = 1
settings/0/root_bone_name = "hair"
settings/0/root_bone = 8
settings/0/end_bone_name = "hair.001"
settings/0/end_bone = 9
settings/0/extend_end_bone = false
settings/0/center_from = 0
settings/0/individual_config = false
settings/0/rotation_axis = 3
settings/0/radius/value = 0.02
settings/0/radius/damping_curve = null
settings/0/stiffness/value = 1.0
settings/0/stiffness/damping_curve = null
settings/0/drag/value = 0.4
settings/0/drag/damping_curve = null
settings/0/gravity/value = 0.0
settings/0/gravity/damping_curve = null
settings/0/gravity/direction = Vector3(0, -1, 0)
settings/0/joints/0/bone_name = "hair"
settings/0/joints/0/bone = 8
settings/0/joints/1/bone_name = "hair.001"
settings/0/joints/1/bone = 9
settings/0/enable_all_child_collisions = true
settings/0/exclude_collision_count = 0

[node name="hair" parent="metarig/GeneralSkeleton" index="4" unique_id=1852048819]
transform = Transform3D(0.9966884, -0.06966138, -0.041943625, 0.00029869893, -0.51268244, 0.8585779, -0.08131355, -0.85574734, -0.5109638, -0.0074074995, 1.9409626, -0.07251937)

[node name="Cube_002" parent="metarig/GeneralSkeleton/hair" index="0" unique_id=1489577247]
surface_material_override/0 = SubResource("StandardMaterial3D_4xm8w")

[node name="spine_006" parent="metarig/GeneralSkeleton" index="5" unique_id=33411291]
transform = Transform3D(0.9968041, 0.00045229238, 0.079882726, 0.0011571011, 0.99979717, -0.020099511, -0.07987565, 0.02012771, 0.99660146, 0.0010635008, 1.7795224, 0.030855402)

[node name="spine_004" parent="metarig/GeneralSkeleton" index="6" unique_id=2016659469]
transform = Transform3D(0.99999434, -0.0011674503, -0.003143996, 0.0011458296, 0.99997574, -0.006869861, 0.0031519383, 0.00686622, 0.9999715, 0.00024952256, 1.6568394, -0.006866229)

[node name="hand_L" parent="metarig/GeneralSkeleton" index="7" unique_id=1585677955]
transform = Transform3D(0.043506183, 0.15086164, -0.9875971, 0.00993542, -0.9885496, -0.15056959, -0.99900395, -0.003261505, -0.044506878, 0.25699216, 1.0388288, 0.0031804964)

[node name="forearm_L" parent="metarig/GeneralSkeleton" index="8" unique_id=2015844137]
transform = Transform3D(-0.9875971, 0.15086164, -0.043506183, -0.15056959, -0.9885496, -0.009935421, -0.044506878, -0.0032615056, 0.99900395, 0.23471573, 1.2979863, -0.034551483)

[node name="upper_arm_L" parent="metarig/GeneralSkeleton" index="9" unique_id=725787869]
transform = Transform3D(0.061442334, 0.1032049, -0.9927606, -0.16492829, -0.9799171, -0.11207732, -0.9843901, 0.1706206, -0.043186966, 0.19568244, 1.5835701, -0.022055566)

[node name="hand_R" parent="metarig/GeneralSkeleton" index="10" unique_id=784960533]
transform = Transform3D(0.037230562, -0.14857206, 0.9882003, -0.009842409, -0.9888925, -0.14830503, 0.9992581, -0.004204768, -0.03827936, -0.25513428, 1.0382421, 0.0015666075)

[node name="forearm_R" parent="metarig/GeneralSkeleton" index="11" unique_id=1393892007]
transform = Transform3D(-0.9882003, -0.14857206, 0.037230566, 0.14830503, -0.9888925, -0.009842388, 0.03827936, -0.0042047477, 0.9992581, -0.23321447, 1.2974502, -0.0360262)

[node name="upper_arm_R" parent="metarig/GeneralSkeleton" index="12" unique_id=1960950410]
transform = Transform3D(0.05485768, -0.10203228, 0.9932672, 0.16506211, -0.98015195, -0.10980106, 0.9847562, 0.16997428, -0.036927223, -0.19491534, 1.5831226, -0.023286708)

[node name="spine_003" parent="metarig/GeneralSkeleton" index="13" unique_id=1149343392]
transform = Transform3D(0.99999434, -0.0011674504, -0.003143996, 0.0011458296, 0.99997574, -0.0068698945, 0.0031519383, 0.0068662534, 0.9999715, 0.0004569646, 1.4643064, -0.002688107)

[node name="spine_001" parent="metarig/GeneralSkeleton" index="14" unique_id=132654360]
transform = Transform3D(0.9858514, -0.0011674504, -0.16761757, 0, 0.99997574, -0.0069647953, 0.16762164, 0.0068662534, 0.9858275, 0.0027110777, 1.1559925, -0.015945468)

[node name="foot_L" parent="metarig/GeneralSkeleton" index="15" unique_id=1491809119]
transform = Transform3D(-0.9858514, -0.16759978, -0.0027050446, -6.0149485e-09, -0.016137771, 0.9998698, -0.1676216, 0.98572314, 0.015909445, 0.09932914, 0.08521268, 0.00045434386)

[node name="shin_L" parent="metarig/GeneralSkeleton" index="16" unique_id=1170716760]
transform = Transform3D(0.9858514, 0.0027050446, 0.16759978, 6.014949e-09, -0.9998698, 0.016137771, 0.1676216, -0.015909445, -0.98572314, 0.09059796, 0.5364308, 0.05180593)

[node name="thigh_L" parent="metarig/GeneralSkeleton" index="17" unique_id=1910001523]
transform = Transform3D(-0.9858514, -0.0021497353, -0.16760781, -6.0149503e-09, -0.9999178, 0.012824966, -0.1676216, 0.0126435105, 0.9857704, 0.09861953, 1.0706611, 0.004627742)

[node name="foot_R" parent="metarig/GeneralSkeleton" index="18" unique_id=1642696885]
transform = Transform3D(-0.9858514, -0.1675998, -0.0027050334, 5.6382423e-09, -0.016137771, 0.9998698, -0.1676216, 0.98572314, 0.015909446, -0.09389776, 0.08521268, -0.032399505)

[node name="shin_R" parent="metarig/GeneralSkeleton" index="19" unique_id=678832219]
transform = Transform3D(0.9858514, 0.0027050334, 0.1675998, -5.6382414e-09, -0.9998698, 0.016137771, 0.1676216, -0.015909446, -0.98572314, -0.102628924, 0.5364308, 0.018952081)

[node name="thigh_R" parent="metarig/GeneralSkeleton" index="20" unique_id=2054967616]
transform = Transform3D(-0.9858514, -0.002149747, -0.16760783, 5.638241e-09, -0.9999178, 0.012824966, -0.1676216, 0.012643509, 0.9857704, -0.094607346, 1.0706611, -0.028226102)

[node name="spine" parent="metarig/GeneralSkeleton" index="21" unique_id=1788077568]
transform = Transform3D(0.9858514, -0.0011674504, -0.16761757, 0, 0.99997574, -0.0069647953, 0.16762164, 0.0068662534, 0.9858275, 0.009252625, 1.0088606, -0.05441898)
